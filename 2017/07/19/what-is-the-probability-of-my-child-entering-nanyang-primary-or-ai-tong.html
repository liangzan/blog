<!DOCTYPE html>
<html lang="en">
<head><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link href="https://fonts.googleapis.com/css?family=Merriweather:300|Raleway:400,700" rel="stylesheet">
<link rel="stylesheet" href="/assets/css/style.css">
<title>What is the probability of my child entering Nanyang Primary or Ai Tong</title>
<!-- Begin Jekyll SEO tag v2.1.0 -->
<title>What is the probability of my child entering Nanyang Primary or Ai Tong - Liang Zan - Blog</title>
<meta property="og:title" content="What is the probability of my child entering Nanyang Primary or Ai Tong" />
<meta name="description" content="Like most parents in Singapore, we leave no chance to getting to the best schools for our children. My wife wants to move closer to Nanyang Primary to increase our chance of getting a place. I did not want to do that. Our chances are high enough that it doesn’t warrant such extremes. I realised I needed to prove my point." />
<meta property="og:description" content="Like most parents in Singapore, we leave no chance to getting to the best schools for our children. My wife wants to move closer to Nanyang Primary to increase our chance of getting a place. I did not want to do that. Our chances are high enough that it doesn’t warrant such extremes. I realised I needed to prove my point." />
<link rel="canonical" href="/2017/07/19/what-is-the-probability-of-my-child-entering-nanyang-primary-or-ai-tong.html" />
<meta property="og:url" content="/2017/07/19/what-is-the-probability-of-my-child-entering-nanyang-primary-or-ai-tong.html" />
<meta property="og:site_name" content="Liang Zan - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-07-19T12:30:00+08:00" />
<script type="application/ld+json">
{"@context": "http://schema.org",
"@type": "BlogPosting",
"headline": "What is the probability of my child entering Nanyang Primary or Ai Tong",
"datePublished": "2017-07-19T12:30:00+08:00",
"description": "Like most parents in Singapore, we leave no chance to getting to the best schools for our children. My wife wants to move closer to Nanyang Primary to increase our chance of getting a place. I did not want to do that. Our chances are high enough that it doesn’t warrant such extremes. I realised I needed to prove my point.",
"url": "/2017/07/19/what-is-the-probability-of-my-child-entering-nanyang-primary-or-ai-tong.html"}</script>
<!-- End Jekyll SEO tag -->
</head>
<body>
	<main class="container">
		<section class="about">
			<img src="/assets/portfolio.png" alt="Wong Liang Zan">
			<h2>Wong Liang Zan</h2>
			<p class="tagline"></p>
			<ul class="social"><a href="https://github.com/liangzan"><li><i class="icon-github-circled"></i></li></a><a href="https://www.linkedin.com/in/liangzan"><li><i class="icon-linkedin-squared"></i></li></a><a href="https://twitter.com/liangzan"><li><i class="icon-twitter-squared"></i></li></a></ul>
			<p>&copy; 2020</p>
		</section>
		<section class="content">
			<div class="post-container">
  <a class="post-link" href="/2017/07/19/what-is-the-probability-of-my-child-entering-nanyang-primary-or-ai-tong.html">
    <h2 class="post-title">What is the probability of my child entering Nanyang Primary or Ai Tong</h2>
  </a>
  <div class="post-meta">
    <ul class="post-categories"></ul>
    <div class="post-date"><i class="icon-calendar"></i>Jul 19, 2017</div>
  </div>
  <div class="post">
    <p>Like most parents in Singapore, we leave no chance to getting to the best schools for our children. My wife wants to move closer to Nanyang Primary to increase our chance of getting a place. I did not want to do that. Our chances are high enough that it doesn’t warrant such extremes. I realised I needed to prove my point.</p>

<!-- more -->

<h2 id="how-does-primary-school-registration-work">How does primary school registration work?</h2>

<p>For the uninitiated, primary school registration is broken up into phases - similar to a priority queue, where the earlier phases get the places first. Phase 1 is for siblings of current students. Phase 2A is for the alumni. Phase 2B is for parent volunteers, community leaders, anybody related to the school. Finally, Phase 2C is for the public. When there are more applicants than places, citizens are prioritised over foreigners, followed by those living near the school. <a href="https://www.moe.gov.sg/admissions/primary-one-registration/phases">Details</a> on the official website</p>

<p>I’m lucky. I have two options. As an alumni of Nanyang Primary, I qualify for Phase 2A. As I live near Ai Tong School, I have a chance in Phase 2C. Both schools are wife-approved. What is the probability of my child getting into either schools?</p>

<h2 id="probability-of-getting-into-nanyang-primary">Probability of getting into Nanyang Primary</h2>

<p>The probability is dependent on 2 things: number of applicants and the number of places. The number of places depends on the number of applicants from Phase 1. How many will apply for Phase 1 in 2018?</p>

<h3 id="finding-the-number-of-places-for-phase-2a">Finding the number of places for Phase 2A</h3>

<p>If you didn’t know already, the <a href="http://www.tylervigen.com/spurious-correlations">number of people who drowned by falling into a pool correlates to the films Nicholas Cage appeared in</a>. We ought to treat correlation results with care. However, it makes sense that the birth rate <em>should</em> correlate to the number of applicants. I took the <a href="http://www.tablebuilder.singstat.gov.sg/publicfacing/createDataTable.action?refId=3733">birth data</a> from the published government statistics. The <a href="http://nyps.moe.edu.sg/admission/p1-enrolment-data">enrolment statistics</a> and <a href="http://nyps.moe.edu.sg/admission/balloting-statistics">balloting statistics</a> for Nanyang Primary are published as well.</p>

<table class="table-values">
  <thead>
    <tr>
      <th>Year</th>
      <th>Residents Births</th>
      <th>Phase 1 applicants</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>2016</td><td>35,129</td><td>196</td>&lt;/td&gt;
    <tr><td>2015</td><td>36,925</td><td>205</td>&lt;/td&gt;
    <tr><td>2014</td><td>37,277</td><td>191</td>&lt;/td&gt;
    <tr><td>2013</td><td>37,074</td><td>195</td>&lt;/td&gt;
    <tr><td>2012</td><td>36,272</td><td>187</td>&lt;/td&gt;
    <tr><td>2011</td><td>35,528</td><td>199</td>&lt;/td&gt;
    <tr><td>2010</td><td>35,135</td><td>179</td>&lt;/td&gt;
    <tr><td>2009</td><td>35,474</td><td>176</td>&lt;/td&gt;
    <tr><td>2008</td><td>38,555</td><td>180</td>&lt;/td&gt;
    <tr><td>2007</td><td>39,281</td><td>180</td>&lt;/td&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

The above is a table of data tabulating the number of resident births and Phase 1 applicants to Nanyang Primary. The [correlation coefficient](https://en.wikipedia.org/wiki/Pearson_correlation_coefficient) between the applicants and births is below.

<table class="table-values">
  <thead>
    <tr>
      <th>Correlation Coefficient</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
   <tr>
     <td>Phase 1 vs Births</td>
     <td>-0.053323383</td>
   </tr>
  </tbody>
</table>

The number of applicants is negatively correlated to the birth rate. Which means when there are more births, there are less applicants. It doesn't make sense. Let's look at the scatter plot.

![Nanyang Primary Phase 1 applicants vs Births](https://s3.amazonaws.com/static.liangzan.net/blog/nyps_phase1_vs_births.png)

Applicants in 2018 will come from births in 2012 which is **38,641**. To be conservative, I selected the three points on the top left, drew a line through them to interpolate the number of applicants for 2018. It is **215**. Since the number of places at Nanyang is **390**, that leaves

```
390 - 215 = 175
```

**175** places. There is a [law introduced in 2014](http://www.todayonline.com/singapore/moe-40-spaces-reserved-every-primary-school-phase-2b-2c-applicants) that there must be at least 40 places kept for Phase 2B and 2C. In the worst case scenario, that leaves

```
175 - 40 = 135
```

**135** places for Phase 2A. We now know the number of places on offer. Let us find the number of applicants next.

## Finding the number of applicants for Phase 2A

Likewise, I believe that the number of applicants for Phase 2A _should_ correlate to the number of births.

<table class="table-values">
  <thead>
    <tr>
      <th>Year</th>
	  <th>Residents Births</th>
	  <th>Phase 2A1 applicants</th>
	  <th>Phase 2A2 applicants</th>
	  <th>Aggregated Phase 2A applicants</th>
    </tr>
  </thead>
  <tbody>
	<tr><td>2016</td><td>35,129</td><td>105</td><td>19</td><td>124</td></tr>
	<tr><td>2015</td><td>36,925</td><td>70</td><td>42</td><td>112</td></tr>
	<tr><td>2014</td><td>37,277</td><td>67</td><td>61</td><td>128</td></tr>
	<tr><td>2013</td><td>37,074</td><td>67</td><td>63</td><td>130</td></tr>
	<tr><td>2012</td><td>36,272</td><td>54</td><td>75</td><td>129</td></tr>
	<tr><td>2011</td><td>35,528</td><td>43</td><td>75</td><td>118</td></tr>
	<tr><td>2010</td><td>35,135</td><td>41</td><td>84</td><td>125</td></tr>
	<tr><td>2009</td><td>35,474</td><td>38</td><td>67</td><td>105</td></tr>
	<tr><td>2008</td><td>38,555</td><td>39</td><td>57</td><td>96</td></tr>
	<tr><td>2007</td><td>39,281</td><td>21</td><td>60</td><td>81</td></tr>
  </tbody>
</table>

Likewise, we tabulate the number of resident to Phase 2A applicants. The correlation coefficient between the applicants and births is below.

<table class="table-values">
  <thead>
    <tr>
      <th>Correlation Coefficient</th>
      <th>Value</th>
    </tr>
  </thead>
  <tbody>
<tr><td>Phase 2A1 vs Births</td><td>-0.405010861</td></tr>
<tr><td>Phase 2A2 vs Births</td><td>-0.056426767</td></tr>
<tr><td>Aggregated Phase 2A vs Births</td><td>-0.650995037</td></tr>
  </tbody>
</table>

Again we see negative correlation, which does not make sense. It is likely to be skewed by the data from 2007-2008. Let's use the scatter plot instead.

![Nanyang Primary Phase 2A applicants vs Births](https://s3.amazonaws.com/static.liangzan.net/blog/nyps_phase2a_vs_births.png)

Ignoring the 2 data points from 2007-2008(at bottom right), I draw a line through to interpolate the number of applicants for Phase 2A. I arrived at **145** applicants.

With this figure, we can calculate the probability of my child getting a place in Nanyang Primary in Phase 2A.

```
Probability = (Number of places) / (Number of applicants in Phase 2A)
 = 135 / 145
 = 0.931034483
```

My daughter has a **93.1%** chance of getting into Nanyang Primary. That's reassuring.

## Backup plan: Ai Tong

In the **6.9%** chance that my daughter won't get into Nanyang Primary, what is the probability of her entering Ai Tong? That is dependent on the number of applicants to the number of places. Since the ruling in 2014 ensures that there are at least 20 places for Phase 2C, let us assume the worst and use **20** for the number of places available.

## Finding the number of applicants for Phase 2C

Consistent with what we did previously, the number of Phase 2C applicants _should_ correlate to the number of births.

<table class="table-values">
  <thead>
    <tr>
      <th>Year</th>
	  <th>Resident Births</th>
	  <th>Phase 2C applicants</th>
	  <th>Places</th>
	  <th>TUR</th>
	  <th>APP</th>
	  <th>Probability</th>
    </tr>
  </thead>
  <tbody>
    <tr><td>2016</td><td>35,129</td><td>49.83</td><td>33</td><td>0.9</td><td>1.51</td><td>0.662251656</td></tr>
	<tr><td>2015</td><td>36,925</td><td>46.2</td><td>23.1</td><td>0.93</td><td>2</td><td>0.5</td></tr>
	<tr><td>2014</td><td>37,277</td><td>44.55</td><td>29.7</td><td>0.91</td><td>1.5</td><td>0.666666667</td></tr>
	<tr><td>2013</td><td>37,074</td><td>35.838</td><td>6.6</td><td>0.98</td><td>5.43</td><td>0.184162063</td></tr>
	<tr><td>2012</td><td>36,272</td><td>58.212</td><td>23.1</td><td>0.93</td><td>2.52</td><td>0.396825397</td></tr>
	<tr><td>2011</td><td>35,528</td><td>67.32</td><td>19.8</td><td>0.94</td><td>3.4</td><td>0.294117647</td></tr>
	<tr><td>2010</td><td>35,135</td><td>67.32</td><td>39.6</td><td>0.88</td><td>1.7</td><td>0.588235294</td></tr>
	<tr><td>2009</td><td>35,474</td><td>65.835</td><td>49.5</td><td>0.85</td><td>1.33</td><td>0.751879699</td></tr>
	<tr><td>2008</td><td>38,555</td><td>64.548</td><td>39.6</td><td>0.88</td><td>1.63</td><td>0.613496933</td></tr>
	<tr><td>2007</td><td>39,281</td><td>66.33</td><td>49.5</td><td>0.85</td><td>1.34</td><td>0.746268657</td></tr>
	<tr><td>2006</td><td>36,272</td><td>79.596</td><td>29.7</td><td>0.91</td><td>2.68</td><td>0.373134328</td></tr>
  </tbody>
</table>

There is data published on [Kiasu Parents](https://www.kiasuparents.com/kiasu/article/bishan/). The figures are in percentages. I had to infer the places from the percentages. **TUR** stands for cumulative take up rate, which is the percentage of the places that were taken by Phase 2C. **APP** is the ratio of applicants to the places available. As we are assuming the worst, we are not using that to estimate the number of places.

<table class="table-values">
  &lt;thead
    <tr><th>Correlation coefficient</th><th>Value</th></tr>
  &lt;/thead&gt;
  <tbody>
    <tr><td>Phase 2C vs Births</td><td>-0.090778097</td></tr>
    <tr><td>Phase 2C vs Places</td><td>0.554622244</td></tr>
  </tbody>
</table>

If we correlate births to the number of applicants, it returns a negative value which does not make sense. If we correlate number of applicants to the places available, it returns a positive correlation of around **0.55**. Parents could be making their decision to apply based on the number of places available.

![Ai Tong Phase 2C applicants vs Places](https://s3.amazonaws.com/static.liangzan.net/blog/aitong_places_vs_phas2c.png)

Using the scatter plot, I drew a line to interpolate the number of applicants given **20** places. It is **42**.

```
Probability = (Number of places) / (Number of applicants in Phase 2C)
 = 20 / 42
 = 0.476190476
```

We conclude that my daughter has a **47.6%** chance of getting into Ai Tong at Phase 2C.

## Bringing everything together

I have both the probabilities for getting a place in Nanyang Primary and Ai Tong. What I want to know is the probability of getting into either.

Let us first define our terms.

```
A is the probability that we get a place in Nanyang
B is the probability that we get a place in Ai Tong
C is the probability that we get a place in Ai Tong, given we failed to get a place in Nanyang
D is the probability that we failed to get a place in Nanyang
```

To help the reader, I've copied out some probability equations.

```
P(A|B) = P(A n B) / P(B) # conditional probability
P(A n B) = P(A) * P(B|A) # when both A and B occurs
P(A n B) = P(A) * P(B)   # for independent events
P(A n B) = 0             # for mutually exclusive events
P(A u B) = P(A) + P(B) - P(A n B)
```

We want the result of the probabilities of A and C together. Since A anc C are mutually exclusive, `P(A n C)` is 0. The final result would be the addition of both probabilities.

```
P(A u C) = P(A) + P(C) - P(A n C)
         = P(A) + P(C) - 0
         = P(A) + P(C)
```

We already know `P(A) = 0.931`. So we need to find `P(C)`. Let us define `P(C)` as a conditional probability, since we want the probability of getting into Ai Tong, given that we failed to get a place in Nanyang.

```
P(C) = P(B|D)
     = P(B n D) / P(D)
```

Does getting a place in Nanyang affect the probability of getting a place in Ai Tong? The number of places don't change as it is set by law. The number of applicants will still be the same as people applying do not care about my result. They are mutually exclusive. Therefore,

```
P(B n D) = 0
```

Which means

```
P(C) = P(B|D)
     = P(B n D) / P(D)
     = 0
```

That is obviously wrong. Did we do something wrong? Let's redefine C as the probability that we get a place in Ai Tong, and we failed to get a place in Nanyang.

```
P(C) = P(B n D)
     = P(B) * P(D)
```

We plug the result back to our first equation.

```
P(A u C) = P(A) + P(C)
         = P(A) + (P(B) * P(D))
         = 0.931 + (0.476 * 0.069)
         = 0.963844
```

It means that my daughter has an increased chance of **96.3%** of getting into Nanyang or Ai Tong. That's reassuring.

With that figure, I can tell my wife not to worry. With this simple episode, you can see the usefulness of Math in helping to make decisions. Intuition can be [misleading](https://en.wikipedia.org/wiki/Birthday_problem). We must demand rigour in thinking when making decisions that has big impact.
</tr></tr></tr></tr></tr></tr></tr></tr></tr></tr></tbody></table>

  </div></div>

		</section>
	</main></body>
</html>
